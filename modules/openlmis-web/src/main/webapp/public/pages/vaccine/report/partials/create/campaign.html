<!--
  ~ This program was produced for the U.S. Agency for International Development. It was prepared by the USAID | DELIVER PROJECT, Task Order 4. It is part of a project which utilizes code originally licensed under the terms of the Mozilla Public License (MPL) v2 and therefore is licensed under MPL v2 or later.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the Mozilla Public License as published by the Mozilla Foundation, either version 2 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the Mozilla Public License for more details.
  ~
  ~ You should have received a copy of the Mozilla Public License along with this program. If not, see http://www.mozilla.org/MPL/
  -->

<div class="rnr-table">

  <h2><span openlmis-message="label.vaccine.campaigns"></span></h2>

  <input type="button" class="btn btn-primary pull-right" ng-click="showCampaignForm({}, false)" openlmis-message="link.add.new" />
  <div ng-show="report.campaignLineItems.length > 0">
    <table class="table table-bordered">
      <thead>
      <tr>
        <th><span openlmis-message="label.vaccine.campaign.name"></span></th>
        <th><span openlmis-message="label.vaccine.campaign.venue"></span></th>
        <th><span openlmis-message="label.vaccine.campaign.start.date"></span></th>
        <th><span openlmis-message="label.vaccine.campaign.end.date"></span></th>
        <th><span openlmis-message="label.vaccine.campaign.children.vaccinated"></span></th>
        <th><span openlmis-message="label.vaccine.campaign.women.vaccinated"></span></th>
        <th><span openlmis-message="label.vaccine.campaign.other.objectives"></span></th>
        <th><span openlmis-message="label.vaccine.campaign.vaccinations"></span></th>
        <th></th>
      </tr>
      </thead>
      <tr ng-repeat="campaign in report.campaignLineItems">
        <td class="span1 cell-input"><span class="cell-text">{{campaign.name}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.venue}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.startDate | date : 'dd MMM, yyyy'}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.endDate | date : 'dd MMM, yyyy'}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.childrenVaccinated}}</span></td>
        <td class="number cell-input"><span class="cell-text">{{campaign.pregnantWomanVaccinated}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.otherObjectives}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.vaccinated}}</span></td>
        <td class="cell-input cell-text"><a href="" ng-click="showCampaignForm(campaign, true)"><span class="cell-text">Edit</span></a></td>
      </tr>
    </table>
  </div>
  <div ng-show="report.campaignLineItems.length == 0" openlmis-message="label.vaccine.campaign.none.found">

  </div>
</div>
<form name="campaignForm">
  <div id="campaignsModalBox" modal="campaignsModal" close="closeCampaign()"
       options="{ backdrop: 'static', escape: false}">
    <div class="modal-header"><h3><span openlmis-message="label.vaccine.campaign.add.edit"></span></h3></div>
    <div class="modal-body">

      <div class="row-fluid">
        <div class="span6">
          <label for="name"><span openlmis-message="label.vaccine.campaign.name"></span></label>
          <input type="text" name="name" id="name" ng-model="currentCampaign.name" />
        </div>
        <div class="span6">
          <label for="venue"><span openlmis-message="label.vaccine.campaign.venue"></span></label>
          <input type="text" name="venue" id="venue" ng-model="currentCampaign.venue" />
        </div>
      </div>

      <div class="row-fluid">
        <div class="span6">
          <label><span openlmis-message="label.vaccine.campaign.start.date"></span></label>
          <input type="date" ng-model="currentCampaign.startDate" />
        </div>
        <div class="span6">
          <label><span openlmis-message="label.vaccine.campaign.end.date"></span></label>
          <input type="date" ng-model="currentCampaign.endDate" />
        </div>
      </div>

      <div class="row-fluid">
        <div class="span6">
          <label><span openlmis-message="label.vaccine.campaign.children.vaccinated"></span></label>
          <input type="text"  numeric-validator="positiveInteger"  ng-model="currentCampaign.childrenVaccinated" >
        </div>
        <div class="span6">
          <label><span openlmis-message="label.vaccine.campaign.women.vaccinated"></span></label>
          <input type="text"  numeric-validator="positiveInteger"  ng-model="currentCampaign.pregnantWomanVaccinated" >
        </div>
      </div>

      <div class="row-fluid">
        <div class="span6">
          <label ><span openlmis-message="label.vaccine.campaign.other.objectives"></span></label>
          <textarea type="text" ng-model="currentCampaign.otherObjectives" ></textarea>
        </div>
      </div>
      <div class="clearfix"></div>

    </div>
    <div class="modal-footer">
      <div class="span2">
        <input type="button" href="" class="btn btn-primary"
               ng-click="closeCampaign();"
               openlmis-message="button.cancel"/>
        <input type="button" href="" id="addCampaign" class="btn btn-primary"
               ng-click="applyCampaign()"
               openlmis-message="button.add"/>
      </div>
    </div>
  </div>
  </form>
</div>
