<!--
  ~ This program is part of the OpenLMIS logistics management information system platform software.
  ~ Copyright © 2013 VillageReach
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~  
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details.
  ~ You should have received a copy of the GNU Affero General Public License along with this program.  If not, see http://www.gnu.org/licenses.  For additional information contact info@OpenLMIS.org. 
  -->

<div xmlns="http://www.w3.org/1999/html" tab-scroll>

<form ng-submit="saveVaccineManufacturer()" id="create-vaccineManufacturer" name="vaccineManufacturerForm" novalidate>
<div class="app-form">
       <div class="form-group">

            <h3  openlmis-message="header.vaccine.manufacturer"></h3>
           <div class="alert alert-success" id="saveSuccessMsgDiv" ng-bind="message" ng-show="message"/>
           <div class="form-row clearfix">
               <!-- Name -->
               <div class="form-cell">

                   <label for="name" openlmis-message="label.vaccine.manufacturer.name"><span class="label-required"> *</span></label>
                   <div class="form-field">

                       <input ng-model="manufacturer.name" name="name" id="name" type="text" ng-required="true"/>
                        <span class="field-error" ng-show="vaccineManufacturerForm.name.$error.required && showError"
                              openlmis-message="missing.value">
                        </span>
                   </div>
               </div>

               <!-- website -->
               <div class="form-cell">

                   <label for="website" openlmis-message="label.vaccine.manufacturer.website"><span class="label-required"> *</span></label>
                   <div class="form-field">

                       <input ng-model="manufacturer.website" name="website" id="website" type="text"  ng-required="true" />

                        <span class="field-error" ng-show="vaccineManufacturerForm.website.$error.required && showError"
                              openlmis-message="missing.value">

                        </span>
                   </div>
               </div>

           </div>
           <div class="form-row clearfix">
               <!-- primaryPhone -->
               <div class="form-cell">

                   <label for="primaryPhone" openlmis-message="label.vaccine.manufacturer.primary.phone" ></label>
                   <div class="form-field">

                       <input ng-model="manufacturer.primaryPhone" name="primaryPhone" id="primaryPhone" type="text"/>

                   </div>
               </div>

               <!-- email -->
               <div class="form-cell">

                   <label for="email" openlmis-message="label.vaccine.manufacturer.email" ></label>
                   <div class="form-field">

                       <input ng-model="manufacturer.email" name="email" id="email" type="text" />

                   </div>
               </div>

           </div>

           <div class="form-row clearfix">

               <!-- contactPerson -->
               <div class="form-cell">

                   <label for="contactPerson" openlmis-message="label.vaccine.manufacturer.contact.person"></label>
                   <div class="form-field">

                       <input ng-model="manufacturer.contactPerson" name="contactPerson" id="contactPerson" type="text"/>

                   </div>
               </div>

               <!-- specialization -->
               <div class="form-cell">

                   <label for="specialization" openlmis-message="label.vaccine.manufacturer.specialization"></label>
                   <div class="form-field">

                       <input ng-model="manufacturer.specialization" name="specialization" id="specialization" type="text"/>

                   </div>
               </div>
           </div>


           <div class="form-row clearfix">
               <!-- geographicCoverage -->
               <div class="form-cell">

                   <label for="geographicCoverage" openlmis-message="label.vaccine.manufacturer.geographic.coverage"></label>
                   <div class="form-field">

                       <input ng-model="manufacturer.geographicCoverage" name="geographicCoverage" id="geographicCoverage" type="text"/>

                   </div>
               </div>

               <!-- registrationDate -->
               <div class="form-cell">
                   <label for="registrationDate" openlmis-message="label.vaccine.manufacturer.registration.date"></label>
                   <div class="form-field">
                       <input ui-date="{dateFormat: 'dd/mm/yy', changeYear: true}" type="text"
                               ui-date-format="yy-dd-mm"
                               name="registrationDate" id="registrationDate" ng-model="manufacturer.registrationDate"
                              ng-required="true"/>
                   </div>
               </div>
           </div>

           <div class="form-row clearfix">
               <!-- description -->
               <div class="form-cell">

                   <label for="description" openlmis-message="label.vaccine.manufacturer.description"></label>
                   <div class="form-field">

                       <textarea ng-model="manufacturer.description"  style="width:87%;" name="description" id="description" type="text"/>

                   </div>
               </div>

           </div>

         </div>
   </div>


<div form-toolbar id="action_buttons" class="action-buttons">
    <div class="form-cell button-row">
        <input id="saveButton" type="submit" id="save-button" class="btn btn-primary save-button"
               openlmis-message="button.save"/>
        <input id="cancelButton" type="button" class="btn btn-cancel cancel-button" openlmis-message="button.cancel"
               ng-click="cancelManufacturerForm()"/>
    </div>


    <div class="toolbar-error" id="saveErrorMsgDiv">
        <span openlmis-message="error" ng-show="error"></span>&nbsp;
    </div>
    <div class="toolbar-success" id="saveSuccessMsgDiv" openlmis-message="message" ng-show="message"></div>
</div>


</form>
</div>


<div>
    <h2>
        <span id="vaccineManufacture-product-Header" openlmis-message="label.vaccine.manufacturer.product.mapping">Product Mapping</span>
        <a id="vaccine-manuf-produ-new" ng-disabled="manufacturer.id == null" ng-href="#/productMappingCreate/{{manufacturer.id}}" class="pull-right btn btn-primary"
           openlmis-message="button.add.new"></a>
    </h2>

    <div class="alert alert-success" id="saveSuccessMsgDiv" ng-bind="message" ng-show="message"/>

    <table class="table table-striped table-bordered">
        <thead>
        <tr class="gradient-header">
            <th openlmis-message="label.vaccine.manufacturer.product.code"></th>
            <th openlmis-message="label.vaccine.manufacturer.product.name"> </th>
            <th openlmis-message="label.vaccine.manufacturer.gtin"></th>
            <th openlmis-message="label.vaccine.manufacturer.action"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="productMapping in productMappings">
            <td>{{productMapping.productCode}}</td>
            <td>{{productMapping.productName}}</td>
            <td>{{productMapping.gtin}}</td>
            <td>  <a href="#/productMappingEdit/{{manufacturer.id}}/{{productMapping.id}}" openlmis-message="button.edit"></a> | <a href ng-click="showRemoveManufacturerProductDialog(productMapping)" openlmis-message="button.remove"></a></td>
        </tr>
        </tbody>
    </table>
</div>